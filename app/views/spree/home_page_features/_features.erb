<div class="flexslider">
  <ul class="slides">

    <% Spree::HomePageFeature.published.each do |feature| %>
      <li class="feature <%= feature.style? ? feature.style : "" %>">

        <% if feature.product %>
          <%= link_to tag(:span), spree.product_path(feature.product) %>
        <% elsif feature.taxon %>
          <%= link_to tag(:span), seo_url(feature.taxon) %>
        <% end %>

        <% if feature.image_file_name.present? %>
          <%= image_tag feature.image.url %>
        <% end %>

        <% if feature.display_texts? %>

          <div class="hero padded vertical-margin">
            <% if feature.display_title? %>
              <h4><%= feature.title %></h4>
            <% end %>
            <% if feature.display_body? %>
              <div><%= feature.body %></div>
            <% end %>
          </div>

        <% end %>

      </li>
    <% end %>

  </ul>
</div>
